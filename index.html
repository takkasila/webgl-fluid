<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>
        2DFluid JosStam1999
    </title>
    <script id = "shader-vs" type = "x-shader/x-vertex">
    attribute vec3 pos;

    void main()
    {
        gl_Position = vec4(pos, 1.0);
    }
    </script>
    <script id = "shader-fs" type = "x-shader/x-fragment">
    precision mediump float;
    uniform ivec2 screenSize;
    uniform ivec2 cellCount;
    uniform sampler2D u_density_tbo_tex;

    void main()
    {
        vec2 cellSize = vec2(screenSize)/vec2(cellCount.x+2, cellCount.y+2);
        float shade = texture2D(u_density_tbo_tex
            , gl_FragCoord.xy / vec2(float(screenSize.x) - cellSize.x, float(screenSize.y) - cellSize.y)
            ).r;

    	gl_FragColor = vec4(vec3(shade), 1);
    }
    </script>
    <script id = "fluid_quantity" src = "fluid_quantity.js" type = "text/javascript">
    </script>
    <script id = "fluid_solver" src = "fluid_solver.js" type = "text/javascript">
    </script>
    <script id = "mainGL" src = "webgl.js" type = "text/javascript">
    </script>
</head>
<body onload="webGLStart()">
    <canvas id="glCanvas" width="800" height="800" style="
            padding: 0;
            margin: auto;
            display: block;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
    ">
    </canvas>
</body>
<html>
